"use strict";(self.webpackChunkangular_blog=self.webpackChunkangular_blog||[]).push([[926],{2926:(O,d,n)=>{n.r(d),n.d(d,{ForgotPasswordModule:()=>T});var l=n(6895),h=n(9596),r=n(433),m=n(4743),p=n(6708),w=n(8505),o=n(8274),c=n(7556),u=n(8824),g=n(9325);function v(t,i){if(1&t&&(o.TgZ(0,"p",20),o._uU(1),o.qZA()),2&t){const e=o.oxw();o.xp6(1),o.Oqu(e.errorMsg)}}function Z(t,i){1&t&&(o.TgZ(0,"p",21),o._uU(1,"Email sent, check your inbox!"),o.qZA())}let P=(()=>{class t{constructor(e,s){this._authService=e,this._cd=s,this.form=new r.cw({email:new r.NI("",[r.kI.required,r.kI.email])}),this.errorMsg="",this.emailSent=!1}get email(){return this.form.controls.email}onSubmit(){this.form.markAsPending(),this.resetSubs=this._authService.sendPasswordResetEmail(this.email.value??"").pipe((0,w.b)(()=>{this.emailSent=!0,this._cd.detectChanges(),setTimeout(()=>{this.emailSent=!1,this._cd.detectChanges()},2e3)})).subscribe({error:s=>{this.form.setErrors({invalid:!0}),(422===s.status||429===s.status)&&(this.errorMsg=s.error.message)}})}ngOnDestroy(){this.resetSubs?.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(c.e),o.Y36(o.sBO))},t.\u0275cmp=o.Xpm({type:t,selectors:[["app-forgot-password"]],decls:27,vars:7,consts:[["id","content",1,"container-sm"],[1,"form"],[1,"title"],[3,"formGroup"],["id","instructions",1,"field"],[1,"field"],[1,"input"],["formControlName","email","type","email","placeholder","E-mail"],[1,"icon"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 20 20","fill","currentColor",1,"h-5","w-5"],["svg",""],["d","M2.003 5.884L10 9.882l7.997-3.998A2 2 0 0016 4H4a2 2 0 00-1.997 1.884z"],["d","M18 8.118l-8 4-8-4V14a2 2 0 002 2h12a2 2 0 002-2V8.118z"],[3,"control"],["id","invalid-email",4,"ngIf"],["id","email-sent",4,"ngIf"],["type","submit","value","Send Recovery Email",1,"btn-1","centered",3,"disabled","click"],["id","links"],["routerLink","/login",1,"btn-2"],["routerLink","/signup",1,"btn-2"],["id","invalid-email"],["id","email-sent"]],template:function(e,s){1&e&&(o.TgZ(0,"div",0)(1,"main",1)(2,"div",2)(3,"h1"),o._uU(4,"Forgot Password?"),o.qZA()(),o.TgZ(5,"form",3)(6,"div",4)(7,"p"),o._uU(8,"Enter your login email address and you will receive an email with a link to reset your password."),o.qZA()(),o.TgZ(9,"div",5)(10,"div",6),o._UZ(11,"input",7),o.TgZ(12,"div",8),o.O4$(),o.TgZ(13,"svg",9,10),o._UZ(15,"path",11)(16,"path",12),o.qZA()()(),o.kcU(),o._UZ(17,"app-forms-error-msg",13),o.qZA(),o.YNc(18,v,2,1,"p",14),o.YNc(19,Z,2,0,"p",15),o.TgZ(20,"input",16),o.NdJ("click",function(){return s.onSubmit()}),o.ALo(21,"async"),o.qZA()()(),o.TgZ(22,"div",17)(23,"a",18),o._uU(24,"Log In"),o.qZA(),o.TgZ(25,"a",19),o._uU(26,"Sign Up"),o.qZA()()()),2&e&&(o.xp6(5),o.Q6J("formGroup",s.form),o.xp6(12),o.Q6J("control",s.email),o.xp6(1),o.Q6J("ngIf",s.errorMsg&&s.form.invalid),o.xp6(1),o.Q6J("ngIf",s.emailSent),o.xp6(1),o.Q6J("disabled","VALID"!==o.lcZ(21,5,s.form.statusChanges)))},dependencies:[l.O5,u.m,g.n,r._Y,r.Fj,r.JJ,r.JL,r.sg,r.u,m.yS,l.Ov],styles:["#content[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}main[_ngcontent-%COMP%]{width:100%;max-width:45rem}#invalid-email[_ngcontent-%COMP%]{color:#ff6e7d;font-size:18px;text-align:center;margin:0 0 2.8rem}#instructions[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;color:#2e7bff;font-size:1.8rem}#email-sent[_ngcontent-%COMP%]{margin:0;margin-bottom:2rem;color:#2e7bff;text-align:center;font-size:1.8rem}#links[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:column;justify-content:space-between;margin-top:4.5rem;align-items:center}#links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{width:204px;text-align:center}#links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:last-of-type{margin-top:3.5rem}@media (min-width: 481px){#links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:last-of-type{margin:0}}@media (min-width: 481px){#links[_ngcontent-%COMP%]{flex-direction:row}}"],changeDetection:0}),t})();var f=n(9683),C=n(3741);function y(t,i){if(1&t&&(o.TgZ(0,"p",21),o._uU(1),o.qZA()),2&t){const e=o.oxw();o.xp6(1),o.Oqu(e.errorMsg)}}let _=(()=>{class t{constructor(e,s,a,x){this._authService=e,this._route=s,this._router=a,this._cd=x,this.form=new r.cw({email:new r.NI("",[r.kI.required,r.kI.email,r.kI.maxLength(255),r.kI.minLength(5)]),token:new r.NI(""),passwordsGroup:new r.cw({password:new r.NI("",[r.kI.required,f.Bj,r.kI.maxLength(255),r.kI.minLength(8)]),password_confirmation:new r.NI("")},[f.fF])}),this.errorMsg=""}get email(){return this.form.controls.email}get passwordsGroup(){return this.form.controls.passwordsGroup}get password(){return this.form.controls.passwordsGroup.controls.password}get password_confirmation(){return this.form.controls.passwordsGroup.controls.password_confirmation}ngOnInit(){this.paramsSubs=this._route.params.subscribe(e=>{this._token=e.token,this.form.controls.token.setValue(e.token)}),this.queryParams=this._route.queryParams.subscribe(e=>{e.email||this._router.navigate(["/404"]),this._email=e.email,this.form.controls.email.setValue(e.email)})}onSubmit(){this.form.markAsPending();const e=this.form.controls.passwordsGroup.controls;this.resetSubs=this._authService.resetPassword({email:this._email,password:e.password.value,password_confirmation:e.password_confirmation.value,token:this._token}).subscribe({error:a=>{this.form.setErrors({invalid:!0}),(422===a.status||429===a.status)&&(this.errorMsg=a.error.message,setTimeout(()=>{this.errorMsg="",this._cd.detectChanges()},5500))},next:()=>this._router.navigate(["/login"])})}ngOnDestroy(){this.resetSubs?.unsubscribe(),this.paramsSubs?.unsubscribe(),this.queryParams?.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(c.e),o.Y36(m.gz),o.Y36(m.F0),o.Y36(o.sBO))},t.\u0275cmp=o.Xpm({type:t,selectors:[["app-reset-password"]],decls:34,vars:10,consts:[["id","content",1,"container-sm"],[1,"form"],[1,"title"],[3,"formGroup"],[1,"field"],[1,"input","readony"],["formControlName","email","type","email","placeholder","E-mail","readonly",""],[1,"icon"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 20 20","fill","currentColor",1,"h-5","w-5"],["svg",""],["d","M2.003 5.884L10 9.882l7.997-3.998A2 2 0 0016 4H4a2 2 0 00-1.997 1.884z"],["d","M18 8.118l-8 4-8-4V14a2 2 0 002 2h12a2 2 0 002-2V8.118z"],[3,"control"],[1,"input"],["formControlName","password","type","password","placeholder","Password"],["fill-rule","evenodd","d","M5 9V7a5 5 0 0110 0v2a2 2 0 012 2v5a2 2 0 01-2 2H5a2 2 0 01-2-2v-5a2 2 0 012-2zm8-2v2H7V7a3 3 0 016 0z","clip-rule","evenodd"],[1,"input",3,"appPasswordConfirmationError"],["formControlName","password_confirmation","type","password","placeholder","Repeat your password"],["type","hidden","formControlName","token","readonly",""],["id","server-errors",4,"ngIf"],["type","submit","value","Reset Password",1,"btn-1","centered",3,"disabled","click"],["id","server-errors"]],template:function(e,s){1&e&&(o.TgZ(0,"div",0)(1,"main",1)(2,"div",2)(3,"h1"),o._uU(4,"Reset Password"),o.qZA()(),o.TgZ(5,"form",3)(6,"div",4)(7,"div",5),o._UZ(8,"input",6),o.TgZ(9,"div",7),o.O4$(),o.TgZ(10,"svg",8,9),o._UZ(12,"path",10)(13,"path",11),o.qZA()()(),o.kcU(),o._UZ(14,"app-forms-error-msg",12),o.qZA(),o.TgZ(15,"fieldset",3)(16,"div",4)(17,"div",13),o._UZ(18,"input",14),o.TgZ(19,"div",7),o.O4$(),o.TgZ(20,"svg",8),o._UZ(21,"path",15),o.qZA()()(),o.kcU(),o._UZ(22,"app-forms-error-msg",12),o.qZA(),o.TgZ(23,"div",4)(24,"div",16),o._UZ(25,"input",17),o.TgZ(26,"div",7),o.O4$(),o.TgZ(27,"svg",8),o._UZ(28,"path",15),o.qZA()()(),o.kcU(),o._UZ(29,"app-forms-error-msg",12),o.qZA()(),o._UZ(30,"input",18),o.YNc(31,y,2,1,"p",19),o.TgZ(32,"input",20),o.NdJ("click",function(){return s.onSubmit()}),o.ALo(33,"async"),o.qZA()()()()),2&e&&(o.xp6(5),o.Q6J("formGroup",s.form),o.xp6(9),o.Q6J("control",s.email),o.xp6(1),o.Q6J("formGroup",s.passwordsGroup),o.xp6(7),o.Q6J("control",s.password),o.xp6(2),o.Q6J("appPasswordConfirmationError",s.passwordsGroup),o.xp6(5),o.Q6J("control",s.passwordsGroup),o.xp6(2),o.Q6J("ngIf",s.errorMsg&&s.form.invalid),o.xp6(1),o.Q6J("disabled","VALID"!==o.lcZ(33,8,s.form.statusChanges)))},dependencies:[l.O5,u.m,g.n,C.i,r._Y,r.Fj,r.JJ,r.JL,r.sg,r.u,l.Ov],styles:["#content[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}main[_ngcontent-%COMP%]{width:100%;max-width:45rem}#server-errors[_ngcontent-%COMP%]{color:#ff6e7d;font-size:18px;text-align:center;margin:0 0 2.8rem}"],changeDetection:0}),t})();const M=[{path:"",redirectTo:"/404",pathMatch:"full"},{title:(0,p.mT)("Forgot Password"),path:"forgot",component:P},{title:(0,p.mT)("Reset Password"),path:"reset/:token",component:_}];let b=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({imports:[l.ez,m.Bz.forChild(M),m.Bz]}),t})(),T=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({imports:[l.ez,h.U,r.UX,b]}),t})()}}]);